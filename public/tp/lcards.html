<div id="nav-clear" class="container navbar-fixed-top"></div>
<div class="container navbar-fixed-top" id="panel-info">
  <server-status></server-status> 
</div>

<div id="nav-padding" class="container"></div>




<div class="panel panel-default" id="panel-left">
  <div class="panel-body">

    <form>
      <div class="form-group">
        <input type="email" class="form-control" id="exampleInputEmail3" placeholder="Number">
      </div>
      <div class="form-group">
        <input type="password" class="form-control" id="exampleInputPassword3" placeholder="Date Added in Format YYYY-MM-DD">
      </div>
      <div class="form-group">
        <select class="form-control">
          <option value="all">All Region</option>
          <option value="usa">USA</option>
          <option value="europe">Europe</option>
        </select>
      </div>
      <button type="submit" class="btn btn-default">Search</button>
    </form>

  </div>
</div>

<div class="panel panel-default" id="panel-right">
  <div class="panel-body">

    <form [ng-form-model]="upload.form" (submit)="onUploadFileSubmit()">
      <div class="form-group">
        <select class="form-control" ng-control="region" [(ng-model)]="upload.region" required>
          <option value="" disabled selected>Select Card Region</option>
          <option *ng-for="#c of regions" [value]="c">{{ c }}</option>
        </select>
      </div>
      <p class="well">
        The file name should correspond to its region (like europe.txt), and
        file contains card numbers separated by newlines. Note, this
        operation is unreversable.
      </p>
      <input type="file" id="file" required (change)="onUploadFileChange($event)">
      <button type="submit" class="btn btn-default">Add Cards</button>
    </form>

  </div>
</div>
<div class="container"></div>

<div class="panel panel-default" *ng-if="upload.state">
  <div class="panel-body">
    <div *ng-if="upload.state === 'database'">
      <span class="glyphicon glyphicon-saved" aria-hidden="true"></span>
      <span>&nbspSuccessfully inserted <strong> {{ upload.info.inserted }} </strong> {{ upload.info.region }} cards.</span>
      <br *ng-if="upload.info.errors">
      <span *ng-if="upload.info.errors" class="glyphicon glyphicon-floppy-remove" aria-hidden="true"></span>
      <span *ng-if="upload.info.errors">&nbspFailed inserted <strong> {{ upload.info.errors }} </strong> {{ upload.info.region }} cards.
      It may be caused by duplicated records.</span>
    </div>
    <div *ng-if="upload.state === 'unmatch'">
      <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
      <span>&nbspThe file name does not match the region you selected.</span>
    </div>
    <div *ng-if="upload.state === 'wait'">
      <span>Please stand by ...</span>
    </div>
    <div *ng-if="upload.state === 'malformed'">
      <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
      <span>&nbspThe file you upload is malformed.</span>
    </div>
  </div>
</div>
